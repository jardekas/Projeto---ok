<h3>Cadastro de Pessoa</h3>
<hr />

<div [formGroup]="pessoaFormGroup">
  <div class="row g-3">
    <div class="col-sm-10">
      <app-input type="text" label="Nome" controlName="nome"></app-input>
    </div>
    <div class="col-sm-2">
      <app-input type="number" label="Idade" controlName="idade"></app-input>
    </div>
    <div class="col-sm-6">
      <app-input
        mask="000.000.000-00"
        type="text"
        label="CPF"
        controlName="cpf"
      ></app-input>
    </div>
    <div class="col-sm-6">
      <app-input type="text" label="E-mail" controlName="email"></app-input>
    </div>
    <div class="col-sm-6 col-lg-3">
      <app-input
        mask="00000-000"
        type="text"
        label="CEP"
        controlName="cep"
      ></app-input>
    </div>

    <div class="col-sm-6 col-lg-3">
      <app-input type="text" label="Bairro" controlName="bairro"></app-input>
    </div>

    <div class="col-sm-6 col-lg-3">
      <app-input type="text" label="Cidade" controlName="cidade"></app-input>
    </div>

    <div class="col-sm-6 col-lg-3">
      <label for="estado" class="form-label required">Estado</label>
      <select
        id="estado"
        formControlName="estado"
        class="form-select"
        [class.is-valid]="
          pessoaFormGroup.get('estado').dirty &&
          pessoaFormGroup.get('estado').valid
        "
      >
        <option *ngFor="let estado of estados" value="{{ estado.sigla }}">
          {{ estado.estado }}
        </option>
      </select>
    </div>

    <div class="col-sm-10">
      <app-input
        type="text"
        label="Logradouro"
        controlName="logradouro"
      ></app-input>
    </div>

    <div class="col-sm-2">
      <app-input type="text" label="Numero" controlName="numero"></app-input>
    </div>
  </div>

  <div class="col-sm-4 mt-3">
    <button
      (click)="editing ? atualizar() : adicionar()"
      type="button"
      class="btn btn-primary"
      [disabled]="pessoaFormGroup.invalid"
    >
      <div
        *ngIf="buttonLoading"
        class="spinner-border spinner-border-sm text-dark"
      ></div>
      <span *ngIf="!buttonLoading && !editing"> Adicionar </span>
      <span *ngIf="!buttonLoading && editing"> Atualizar </span>
    </button>
  </div>
</div>
